# Social Network Service App

Приложение реализующее базовые функции соц. сети

## Установка
(Если в процессе установки возникнут проблемы, попробуйте открыть командную строку(или любой другой терминал в которым вы выполняете команды) от имени администратора

Чтобы собрать и запустить приложение следуйте следующим этапам:
1. Установите docker с официального сайта, при необходимости зарегистрируйтесь и проведите базовую настройку:

https://www.docker.com/products/docker-desktop/

2. Клонируйте репозиторий командой(Необходимо установить git если таковой ещё не установлен):

git clone https://github.com/POCGGUY/SNSApp.git

3. Перейдите в директорию SNSApp и выполните внутри неё следующую команду:

docker-compose up --build

4. Дождитесь, пока docker не загрузит все необходимые зависимости и образы.

Лог: (INFO  ru.pocgg.SNSApp.SNSApp - Started SNSApp) будет сигнализировать об успешном запуске приложения

5. После завершения этапа сборки и запуска, Swagger UI, с помощью которого можно работать с приложением станет доступен по следующему адресу:

http://localhost:8080/swagger-ui/index.html#/

### Дополнительно

Для того чтобы создать первого пользователя администратора, необходимо будет самостоятельно выполнить SQL-запрос к базе данных.
Для этого рекомендую использовать pgAdmin 4

1. Скачайте pgAdmin 4  с официального сайта:

https://www.pgadmin.org/download/

2. Подключитесь к базе данных:

- В левой колонке интерфейса pgAdmin нажмите пкм по надписи Servers, далее лкм по Register, затем лкм по Server
- В поле Name можете ввести любое имя
- В поле Host name/address укажите: localhost
- В поле Port укажите: 5434

(Если поле maintenance database не заполнено автоматически то в него введите значение: postgres)
- В поле Username укажите: postgres
- В поле Password укажите: postgres
- Флажок Save Password? переведите в положение активен (должен стать тёмно-синим)
- Нажмите Save

3. Выполните SQL-запрос:
- Для этого нажмите пкм по созданному серверу, нажмите Connect Server
- Раскройте список Databases
- Перейдите к базе данных test_db, щёлкнув по ней лкм
- Откройте окно Create Query (сочетание горячих клавиш: Alt + Shift + Q)
(Убедитесь что адрес бд указан в верху окна как: test_db/postgres@название_сервера)
- Введите следующий запрос:

UPDATE sns.users SET systemRole = 'ADMIN' WHERE id = id_пользователя

Например:

UPDATE sns.users SET systemRole = 'ADMIN' WHERE id = 1

Задаст системную роль 'ADMIN' пользователю с id = 1

- Выполните его командой Excecute Script (горячая клавиша F5)
